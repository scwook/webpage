<!DOCTYPE html>
<html>
<link rel="stylesheet" type="text/css" href="style.css">
<script src="script/moment.js"></script>
<script src="script/chart.js@2.8.0"></script>
<script src="script/chartjs-plugin-streaming.js"></script>
<script src="script/common.js"></script>

<head>
    <style>
        @font-face {
            font-family: "Helvetica-Neue-Light";
            src: url(fonts/helveticaneue/HelveticaNeueLight.ttf);
        }

        @font-face {
            font-family: "Roboto-Thin";
            src: url(fonts/Roboto-Thin.ttf);
        }

        @font-face {
            font-family: "Roboto-Light";
            src: url(fonts/Roboto-Light.ttf);
        }

        @keyframes example {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        @keyframes example2 {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(1080deg);
            }
        }

        #img4 {
            animation-name: example2;
            animation-duration: 5s;
            animation-iteration-count: infinite;
            animation-timing-function: ease-in-out;
            animation-direction: reverse;
            animation-direction: alternate;
        }

        #img5 {
            animation-name: example;
            animation-duration: 10s;
            animation-iteration-count: infinite;
            animation-timing-function: linear;
        }

        #img9 {
            animation-name: example;
            animation-duration: 20s;
            animation-iteration-count: infinite;
            animation-timing-function: linear;
            animation-direction: reverse;
        }

        .image-box {
            position: absolute;
            top: 80px;
        }

        #time-stamp {
            position: absolute;
            color: white;
            font-family: "Roboto-Thin";
            font-size: 48px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -70%);
        }

        .under-line-box {
            position: absolute;
            top: 34px;
        }

        .center-top-box {
            position: absolute;
            left: 50%;
            transform: translate(-50%, 0%);
        }

        .raon-box {
            position: absolute;
            left: 10px;
            top: 20px;
        }

        .accelerator-control {
            position:absolute; 
            color:white; 
            width:150px; 
            left:150px; 
            top:40px;
            font-family: "Helvetica-Neue-Light";
        }

        .status-box {
            background-color: black;
            width: 300px;
            height: 50px;
            color: white;
            margin: auto;
            padding: 20px;
            text-align: center;
            font-size: 60px;
            font-family: "Roboto-Thin";
        }

        .contens_1x1 {
            background-color: black;
            width: 200px;
            height: 200px;
            float: left;
        }

        .contens_2x2 {
            background-color: black;
            width: 300px;
            height: 300px;
            float: left;
        }

        .title {
            color: white;
            font-size: 20px;
            text-align: center;
            font-family: monospace;
        }

        .data {
            color: white;
            font-size: 40px;
            text-align: center;
            font-family: Arial, Helvetica, sans-serif;
        }

        .pvname {
            color: dimgray;
            font-size: 15px;
            text-align: center;
            font-family: Arial, Helvetica, sans-serif;
        }

        .doughnu-chart-text {
            color: white;
            font-size: 24px;
            text-align: center;
            font-family: "Roboto-Light";
            margin-top: 30px;
        }

        .contens-wide-chart {
            background-color: black;
            width: 640px;
            height: 200px;
            float: left;
        }

    </style>
</head>

<body style="background-color:black; margin:0px">

    <div style="margin:auto; position: relative; width:1920px; height:80px;">
        <div id="time-stamp"></div>
        <div class="under-line-box"><img src="images/under-line.svg"></img></div>
        <div class="center-top-box"><img src="images/center-top.svg"></img></div>
        <div class="raon-box"><img src="images/raon-white.svg"></img></div>
        <div class="accelerator-control">Accelerator Control</div>
    </div>

    <div style="height:6px"></div>

    <div class="body" style="width:1920px; height:780px; display:flex; margin:auto;">
        <div class="body-left" style="width:600px; height:780px; background-color: MediumSeaGreen;">
            <div class="contens_1x1">
                <canvas id="chart1" widht="100x" height="200px" style="transform: translate(0%, 15%); background-color: thistle;"></canvas>
                <div class="doughnu-chart-text">Storage1</div>
            </div>
            <div class="contens_1x1">
                <canvas id="chart2" widht="100px" height="200px" style="transform: translate(0%, 15%);"></canvas>
                <div class="doughnu-chart-text">Storage2</div>
            </div>
            <div class="contens_1x1">
                <canvas id="chart3" widht="100px" height="200px" style="transform: translate(0%, 15%);"></canvas>
                <div class="doughnu-chart-text">Storage3</div>
            </div>

            <div class="contens_2x2">
                <p class="data" id="scwook-ai1">24.5%</p>
                <p class="title">Flow</p>

            </div>
            <div class="contens_2x2">
                <p class="data" id="scwook-ai1">3.4bar</p>
                <p class="title">Pressure</p>

            </div>
            <div class="contens_2x2">
                <p class="data" id="scwook-ai1">295C</p>
                <p class="title">Temperature</p>
            </div>
            <div class="contens_2x2">
                <p class="data" id="scwook-ai1">295C</p>
                <p class="title">Temperature</p>
            </div>
        </div>

        <div class="body-center" style="width:720px; height:780px;">
            <div class="status-box">RUNNING</div>
            <div style="margin:auto; position: relative; width:500px; height:500px;">
                <div class="image-box"><img id="img1" src="../images/img1.svg"
                        style="position: relative; width:500; height:500;"></img></div>
                <div class="image-box"><img id="img2" src="../images/img2.svg"
                        style="position: relative; width:500; height:500;"></img></div>
                <div class="image-box"><img id="img3" src="../images/img3.svg"
                        style="position: relative; width:500; height:500;"></img></div>
                <div class="image-box"><img id="img4" src="../images/img4.svg"
                        style="position: relative; width:500; height:500;"></img></div>
                <div class="image-box"><img id="img5" src="../images/img5.svg"
                        style="position: relative; width:500; height:500;"></img></div>
                <div class="image-box"><img id="img6" src="../images/img6.svg"
                        style="position: relative; width:500; height:500;"></img></div>
                <div class="image-box"><img id="img7" src="../images/img7.svg"
                        style="position: relative; width:500; height:500;"></img></div>
                <div class="image-box"><img id="img8" src="../images/img8.svg"
                        style="position: relative; width:500; height:500;"></img></div>
                <div class="image-box"><img id="img9" src="../images/img9.svg"
                        style="position: relative; width:500; height:500;"></img></div>
                <div class="image-box"><img id="img10" src="../images/img10.svg"
                        style="position: relative; width:500; height:500;"></img></div>
                <div class="image-box"><img id="img11" src="../images/img11.svg"
                        style="position: relative; width:500; height:500;"></img></div>
            </div>
        </div>

        <div class="body-right" style="width:600px; height:780px; background-color: dodgerblue;">
            <div class="contens_2x2">
                <p class="data" id="scwook-ai1">295C</p>
                <p class="title">Temperature</p>
            </div>
            <div class="contens_2x2">
                <p class="data" id="scwook-ai1">295C</p>
                <p class="title">Temperature</p>
            </div>
            <div class="contens_2x2">
                <p class="data" id="scwook-ai1">295C</p>
                <p class="title">Temperature</p>
            </div>
            <div class="contens_2x2">
                <p class="data" id="scwook-ai1">295C</p>
                <p class="title">Temperature</p>
            </div>
            <div class="contens_2x2">
                <p class="data" id="scwook-ai1">295C</p>
                <p class="title">Temperature</p>
            </div>
            <div class="contens_2x2">
                <p class="data" id="scwook-ai1">295C</p>
                <p class="title">Temperature</p>
            </div>
        </div>
    </div>

    <div class="bottom" style="width:1920px; height:200px; display:flex; margin:auto;">
        <div class="bottom-left" style="width:600px; height:200px; background-color: black;">
            <canvas id="canvas1" width="640px" height="200px"></canvas>
        </div>
        <div class="bottom-center" style="width:640px; height:200px; background-color: black;">
            <canvas id="canvas2" width="640px" height="200px"></canvas>

        </div>
        <div class="bottom-right" style="width:600px; height:200px; background-color: black;">
            <canvas id="canvas3" width="640px" height="200px"></canvas>

        </div>
    </div>

    <script>
        function randomScalingFactor() {
            return (Math.random() > 0.5 ? 1.0 : -1.0) * Math.round(Math.random() * 100);
        }

        function onRefresh(chart) {
            chart.config.data.datasets.forEach(function (dataset) {
                dataset.data.push({
                    x: Date.now(),
                    y: randomScalingFactor(),
                })
            });
        }
        
        // Line chart configuration
        function lineChartConfig(details) {
            // var color = Chart.helpers.color;
            return {
                type: 'line',
                data: {
                    datasets: [{
                        label: details.label,
                        // backgroundColor: color(chartColors.blue).alpha(0.5).rgbString(),
                        borderColor: details.color,
                        fill: false,
                        cubicInterpolationMode: 'monotone',
                        data: [],
                    }]
                },
                options: {
                    title: {
                        display: true,
                        text: details.label
                    },
                    legend: {
                        display: false
                    },
                    layout: {
                        padding: {
                            bottom: 10
                        }
                    },
                    scales: {
                        xAxes: [{
                            type: 'realtime',
                            realtime: {
                                duration: 60000,
                                refresh: 1000,
                                delay: 2000,
                                onRefresh: onRefresh
                            }
                        }],
                        yAxes: [{
                            scaleLabel: {
                                display: true,
                                labelString: 'value'
                            }
                        }]
                    },
                    tooltips: {
                        mode: 'nearest',
                        intersect: false
                    },
                    hover: {
                        mode: 'nearest',
                        intersect: false
                    }
                }
            };
        }


        // Doughnut chart configuration
        var configDoughnut = {
            type: 'doughnut',
            data: {
                labels: [
                    "Red",
                    "Gray"
                ],
                datasets: [{
                    data: [20, 33],
                    backgroundColor: [
                        "#FF6684",
                        "#ccc"
                    ],
                    hoverBackgroundColor: [
                        "#FF6384",
                        "#ccc"
                    ],
                }]
            },
            options: {
                legend: {
                    display: false,
                },
                elements: {
                    arc: {
                        roundedCornersFor: 0,
                        borderColor: "#000000"
                    },
                    center: {
                        // the longest text that could appear in the center
                        maxText: '100%',
                        text: '30%',
                        fontColor: '#FF6684',
                        fontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
                        fontStyle: 'normal',
                        fontSize: 36,
                        // if a fontSize is NOT specified, we will scale (within the below limits) maxText to take up the maximum space in the center
                        // if these are not specified either, we default to 1 and 256
                        minFontSize: 1,
                        maxFontSize: 256,
                    }
                },
                cutoutPercentage: 80,
            }
        };

        function timer() {
            var d = new Date();
            document.getElementById('time-stamp').innerHTML = d.toLocaleTimeString('en-GB');
        }

        window.onload = function () {

            var details = [
                { label: "Line Chart1", color:window.chartColors.red },
                { label: "Line Chart2", color:window.chartColors.green },
                { label: "Line Chart3", color:window.chartColors.blue }
            ]

            var ctx1 = document.getElementById('canvas1').getContext('2d');
            //var lineConfig1 = lineChartConfig(details[0])
            window.myChart = new Chart(ctx1, lineChartConfig(details[0]));

            var ctx2 = document.getElementById('canvas2').getContext('2d');
            window.myChart = new Chart(ctx2, lineChartConfig(details[1]));

            var ctx3 = document.getElementById('canvas3').getContext('2d');
            // var lineConfig2 = lineChartConfig(datails2)
            window.myChart = new Chart(ctx3, lineChartConfig(details[2]));

            var ctx4 = document.getElementById('chart1').getContext('2d');
            window.myChart4 = new Chart(ctx4, configDoughnut);

            var ctx5 = document.getElementById('chart2').getContext('2d');
            window.myChart5 = new Chart(ctx5, configDoughnut);

            var ctx6 = document.getElementById('chart3').getContext('2d');
            window.myChart6 = new Chart(ctx6, configDoughnut);

            // doughnutChart('storage', 86);
            var myVar = setInterval(timer, 1000);
            //var startMonitoring = setInterval(monitoring, 1000);
            //var change = setInterval(changeImage, 500);
        }

    </script>
</body>

</html>