<!DOCTYPE html>
<html>

<body>
    <svg class="lightning" width="59.63" height="103.33">
        <defs>
            <linearGradient id="left-to-right" x1="29" y1="100" x2="29" gradientUnits="userSpaceOnUse">
                <stop offset="0" stop-color="#2959a8">
                    <animate begin="indefinite" id="stop1" dur="1s" attributeName="offset" fill="freeze" from="0" to="0"
                        keySplines=" 0.0 0.4 0.1 1" keyTimes="0;1" calcMode="spline" />
                </stop>
                <stop offset="0" stop-color="#2959a8" stop-opacity="0.1">
                    <animate begin="indefinite" id="stop2" dur="1s" attributeName="offset" fill="freeze" from="0" to="0"
                        keySplines=" 0.0 0.4 0.1 1" keyTimes="0;1" calcMode="spline" />
                </stop>
            </linearGradient>
        </defs>
        <polygon id="poly" fill="url(#left-to-right)"
            points="58.67 0.5 18.67 0.5 6.67 40.5 0.67 60.5 16.67 60.5 4.67 100.5 32.67 60.5 46.67 40.5 30.67 40.5 58.67 0.5"
            style="stroke:none;stroke-miterlimit:10" />
    </svg>

    <input type="text" id="point" value="0.5">
    <button id="set" onclick="setPoint()">Click</button>
</body>

<script>
    var stop1 = document.getElementById('stop1');
    var stop2 = document.getElementById('stop2');

    var current = 0.0;

    // stop1.setAttribute('from', current);
    // stop1.setAttribute('to', '0.0');

    // stop2.setAttribute('from', current);
    // stop2.setAttribute('to', '0.0');

    var id = document.getElementById('poly');
    // id.setAttribute('fill', 'url(#left-to-right)');

    // setInterval(function () {
    // var value = Math.random().toFixed(1);

    // stop1.setAttribute('from', current);
    // stop1.setAttribute('to', value);

    // stop2.setAttribute('from', current);
    // stop2.setAttribute('to', value);

    // id.setAttribute('fill', 'url(#left-to-right)');
    // console.log(current, value);

    // current = value;
    // }, 2000);

    function setPoint() {
        
        let data = document.getElementById('point').value;

        stop1.setAttribute('from', current);
        stop1.setAttribute('to', data);

        stop2.setAttribute('from', current);
        stop2.setAttribute('to', data);

        // id.setAttribute('fill', 'url(#left-to-right)');
        stop1.beginElement();
        // stop2.beginElement();

        current = data;
    }

    window.onload = function () {





        // console.log(current, data)
        // current = data;
        // setPoint();
    }
</script>

</html>