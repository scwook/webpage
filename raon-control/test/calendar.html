<!DOCTYPE html>
<html>
<style>
    @font-face {
        font-family: "Roboto-Light";
        src: url(../fonts/Roboto-Light.ttf);
    }

    @font-face {
        font-family: "Roboto-Thin";
        src: url(../fonts/Roboto-Thin.ttf);
    }

    body {
        background-color: black;
        font-family: "Roboto-Light";

    }

    #calendar {
        display: grid;
        grid-template-columns: repeat(7, 100px);
        grid-template-rows: repeat(6, 100px);
        width: 700px;
        height: 720px;
        overflow: auto;
    }

    #last-button,
    #next-button {
        width: 100px;
        height: 70px;
        border: none;
        outline: none;
        color: white;
        background-color: #181818;

    }

    #year {
        width: 500px;
        height: 70px;
        display: flex;
        font-size: 32px;
        color: white;
        justify-content: center;
        align-items: center;
        background-color: #181818;

    }

    .week {
        width: 100px;
        height: 30px;
        display: flex;
        text-align: center;
        color: gray;
        background-color: #181818;
        justify-content: center;
        align-items: center;

    }

    .day {
        background-color: #1d1d1d;
        color: white;
        overflow: visible;
    }

    .today {
        width: 40px;
        height: 40px;
        margin: 5px;
        text-align: center;
        line-height: 40px;
        border-radius: 20px;
        /* background-color: dodgerblue; */
    }

    button {
        /* width: 400px; */
        /* height: 24px; */
        border: none;
        outline: none;
        color: white;
        border-radius: 12px;
        position: relative;
        font-family: "Roboto-Light";

    }
</style>

<body>
    <div style="display: flex;">
        <button id="last-button" onclick="prevCalendar()">&#10094;</button>

        <div id="year">January 2021</div>
        <button id="next-button" onclick="nextCalendar()">&#10095;</button>
    </div>

    <div style="display: flex;">
        <div class="week">SUN</div>
        <div class="week">MON</div>
        <div class="week">TUE</div>
        <div class="week">WED</div>
        <div class="week">THU</div>
        <div class="week">FRI</div>
        <div class="week">SAT</div>
    </div>

    <div id="calendar">
        <!-- 1 week -->
        <div class="day" style="z-index: 2;">
            <div class="today"></div>
            <!-- <button class="shift-button" onclick="" style="background-color: #283593;">Beam Operation 1</button> -->
        </div>
        <div class="day" style="z-index: 1;">
            <div class="today"></div>
            <!-- <button class="shift-button" onclick="" style="top:25px; background-color: #2E7D32;">Beam Operation2</button> -->
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>

        <!-- 2 week -->
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>

        <!-- 3 week -->
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>

        <!-- 4 week -->
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>

        <!-- 5 week -->
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>

        <!-- 6 week -->
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
        <div class="day">
            <div class="today"></div>
        </div>
    </div>

</body>
<script>
    var today = new Date();
    var date = new Date();
    var monthArray = new Array();
    monthArray[0] = "January";
    monthArray[1] = "February";
    monthArray[2] = "March";
    monthArray[3] = "April";
    monthArray[4] = "May";
    monthArray[5] = "June";
    monthArray[6] = "July";
    monthArray[7] = "August";
    monthArray[8] = "September";
    monthArray[9] = "October";
    monthArray[10] = "November";
    monthArray[11] = "December";

    function prevCalendar() {
        today = new Date(today.getFullYear(), today.getMonth() - 1, today.getDate());
        makeCalendar();
    }

    function nextCalendar() {
        today = new Date(today.getFullYear(), today.getMonth() + 1, today.getDate());
        makeCalendar();
    }

    function makeCalendar() {
        // Year and Month
        var yearId = document.getElementById("year");
        var month = monthArray[today.getMonth()];
        yearId.innerHTML = month + " " + today.getFullYear();

        var firstDate = new Date(today.getFullYear(), today.getMonth(), 1);
        var lastDate = new Date(today.getFullYear(), today.getMonth() + 1, 0);
        var prevMonthLastDate = new Date(today.getFullYear(), today.getMonth(), 0);

        var dayCalss = document.getElementsByClassName('day');
        var thisMonthFirstDay = firstDate.getDay();
        var day = prevMonthLastDate.getDate() - firstDate.getDay() + 1;


        // This Month
        for (let i = 0; i < dayCalss.length; i++) {
            var todayClass = dayCalss[i].getElementsByClassName('today')[0];

            // Last Month last day reset and start this month first day
            if (i == thisMonthFirstDay) {
                day = 1;
            }

            todayClass.innerHTML = day;

            // Sunday
            if (i % 7 == 0) {
                todayClass.style.color = "tomato";
            }

            // Today
            todayClass.style.backgroundColor = "transparent";
            if ((date.getFullYear() == today.getFullYear()) && (date.getMonth() == today.getMonth()) && (day == today.getDate())) {
                todayClass.style.backgroundColor = "dodgerblue";
            }

            day += 1;

            // Last day reset and start next month first day
            if (day > lastDate.getDate()) {
                day = 1;
            }
        }
    }

    function schedule() {
        var dayCalss = document.getElementsByClassName('day');
        var yearMonth = today.getFullYear() + '-' + today.getMonth() + 1;

        var scheduleList = [
            { date: "2021-01-10", days: 2, title: "Beam Commissioning" },
            { date: "2021-01-21", days: 3, title: "Beam Commissioning" }
        ];

        var dateArray = scheduleList[0].date.split("-");
        // console.log(dateArray[0]);
        // console.log(dateArray[1]);
        // console.log(dateArray[2]);

        var list = dateArray[0] + '-' + dateArray[1];
        if (yearMonth == list) {
            let scheduleButton = document.createElement('BUTTON');
            let buttonText = document.createTextNode(scheduleList[0].title);
            scheduleButton.style.backgroundColor = '#283593';
            scheduleButton.style.width = 100 * scheduleList[0].days + 'px';
            console.log(scheduleButton.style.width);
            scheduleButton.style.height = '24px';
            scheduleButton.appendChild(buttonText);

            var listIndex = today.getDay() + parseInt(dateArray[2]) - 1;
            dayCalss[listIndex].appendChild(scheduleButton);
        }



        // dayCalss[0].appendChild(scheduleButton);

    }

    window.onload = function () {
        makeCalendar();
        schedule();

    }
</script>

</html>