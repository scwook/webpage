<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<style>
    @font-face {
        font-family: "Helvetica-Neue-Light";
        src: url(fonts/helveticaneue/HelveticaNeueLight.ttf);
    }

    @font-face {
        font-family: "Roboto-Thin";
        src: url(fonts/Roboto-Thin.ttf);
    }

    @font-face {
        font-family: "Roboto-Light";
        src: url(fonts/Roboto-Light.ttf);
    }

    @font-face {
        font-family: "NotoSansKR-Regular";
        src: url(fonts/NotoSansKR-Regular.otf);
    }

    body {
        margin: 0px;
        background-color: black;
        background-image: url('images/masset_bg.png');
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-position: center;
        background-size: 200%;
        /* overflow: hidden; */
        text-align: center;
        color: white;
        font-family: "Helvetica-Neue-Light";
    }

    .top-polygon,
    .bottom-polygon {
        position: absolute;
        /* opacity: 0.07; */
        z-index: -1;

    }

    .polygon-style {
        fill: #0094c5;
        opacity: 0.07;
    }
</style>

<body>

    <!-- Top Polygon -->
    <!-- 1 -->
    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <!-- 2 -->
    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <!-- 3 -->
    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <!-- 4 -->
    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <!-- 5 -->
    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <!-- 6 -->
    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <!-- 7 -->
    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="top-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>


    <!-- Bottom Polygon -->
    <!-- 1 -->
    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <!-- 2 -->
    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <!-- 3 -->
    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <!-- 4 -->
    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <!-- 5 -->
    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <!-- 6 -->
    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <!-- 7 -->
    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>

    <svg class="bottom-polygon" width="60" height="52" viewBox="0 0 60 52">
        <polygon class="polygon-style" points="45 0 15 0 0 26 15 52 45 52 60 26 45 0" />
    </svg>


    <div style="font-size: 5vw; margin-top: 1vh; color: #CCCCCC">Accelerator Control Asset Manager</div>
    <div id="asset-number" style="font-size: 8vw; margin-top: 8vh; color:#00A99D"></div>
    <div id="asset-date" style="font-size: 5vw; margin-top: 0.5vh; color: #CCCCCC"></div>

    <div style="overflow:hidden; width:80vw; height: 60vw; margin:auto; margin-top: 2vh;"><img id="asset-image"
            src="" style="width:100%; height:auto"></div>

    <div id="asset-name" style="font-size: 5vw; margin-top: 1vh; font-family: NotoSansKR-Regular"></div>
    <div id="asset-location" style="font-size: 5vw; margin-top: 1vh; font-family: NotoSansKR-Regular"></div>
    <div id="asset-manager" style="font-size: 6vw; margin-top: 1vh; font-family: NotoSansKR-Regular"></div>

    <svg id="control-logo" width="121" height="50" viewBox="0 0 242 50">
        <path id="path7109" d="M34.9761,30.7607a11.428,11.428,0,1,1,0-11.428" transform="translate(-0.5 0.0703)"
            style="fill:none;stroke:#00a2cc;stroke-linecap:round;stroke-miterlimit:10" />
        <path id="path7111" d="M25.0791,25.0214H232.9907" transform="translate(-0.5 0.0703)"
            style="fill:none;stroke:#00a2cc;stroke-linecap:round;stroke-miterlimit:10" />
        <circle id="circle7113" cx="234.7921" cy="25.0971" r="5.7079" style="fill:#00a2cc" />
        <path id="path7115" d="M41.94,30.7705a17.7767,17.7767,0,1,1,.029-11.4559" transform="translate(-0.5 0.0703)"
            style="fill:none;stroke:#00a2cc;stroke-linecap:round;stroke-miterlimit:10" />
        <path id="path7117" d="M48.5439,30.8006a24.126,24.126,0,1,1,.0308-11.4752" transform="translate(-0.5 0.0703)"
            style="fill:none;stroke:#00a2cc;stroke-linecap:round;stroke-miterlimit:10" /><text
            transform="translate(60.0034 19.7118)"
            style="font-size:23.042280197143555px;fill:#00a2cc;font-family:Roboto-Light, Roboto;font-weight:300">
            <tspan style="letter-spacing:-0.005361238349376295em">A</tspan>
            <tspan x="14.2666" y="0">CCELER</tspan>
            <tspan x="97.1758" y="0" style="letter-spacing:-0.06297865760611206em">A</tspan>
            <tspan x="110.1147" y="0" style="letter-spacing:-0.01366797919109767em">T</tspan>
            <tspan x="123.5596" y="0">OR</tspan>
            <tspan x="25.5347" y="27.6509">CO</tspan>
            <tspan x="56.0928" y="27.6509" style="letter-spacing:-0.014155364495586423em">N</tspan>
            <tspan x="72.1255" y="27.6509">TROL</tspan>
        </text>
    </svg>
</body>

<script>
    var topPolygonSVGElement = document.getElementsByClassName('top-polygon');
    var bottomPolygonSVGElement = document.getElementsByClassName('bottom-polygon');

    // iPhone 6s 
    var defaultWidth = 375;
    var defaultHeight = 667;

    var viewBoxScaleWidth = defaultWidth / screen.width;
    var viewboxScaleHeight = defaultHeight / screen.height;

    var polygonViewBoxWidth = 60 * viewBoxScaleWidth;
    var polygonViewBoxHeight = 52 * viewboxScaleHeight;

    var polygonViewBox = "0 0 " + polygonViewBoxWidth + " " + polygonViewBoxHeight;

    for (let i = 0; i < topPolygonSVGElement.length; i++) {
        topPolygonSVGElement[i].setAttribute("viewBox", polygonViewBox);
        bottomPolygonSVGElement[i].setAttribute("viewBox", polygonViewBox);
    }

    var horizontalInitPos = 15 * viewboxScaleHeight;
    var verticalInitPos = 15 * viewboxScaleHeight;

    var horizontalDt = 48 * 2 * viewBoxScaleWidth;
    var verticalDt = 56 * viewboxScaleHeight;

    var bottomPolygonOffset = 330 * viewboxScaleHeight;

    var polygonCount = 0;
    for (let i = 0; i < 4; i++) {
        for (let k = 0; k < 3; k++) {
            topPolygonSVGElement[polygonCount].style.left = horizontalInitPos + (i * horizontalDt) + 'px';
            topPolygonSVGElement[polygonCount].style.top = verticalInitPos + (k * verticalDt) + 'px';

            bottomPolygonSVGElement[polygonCount].style.left = horizontalInitPos + (i * horizontalDt) + 'px';
            bottomPolygonSVGElement[polygonCount].style.top = bottomPolygonOffset + verticalInitPos + (k * verticalDt) + 'px';

            polygonCount += 1;
        }
    }

    horizontalInitPos += 48;
    verticalInitPos += verticalDt / 2;

    for (let i = 0; i < 3; i++) {
        for (let k = 0; k < 3; k++) {
            topPolygonSVGElement[polygonCount].style.left = horizontalInitPos + (i * horizontalDt) + 'px';
            topPolygonSVGElement[polygonCount].style.top = verticalInitPos + (k * verticalDt) + 'px';

            bottomPolygonSVGElement[polygonCount].style.left = horizontalInitPos + (i * horizontalDt) + 'px';
            bottomPolygonSVGElement[polygonCount].style.top = bottomPolygonOffset + verticalInitPos + (k * verticalDt) + 'px';

            polygonCount += 1;

        }
    }

    var controlLogoID = document.getElementById('control-logo');
    
    var controlLogoViewBoxWidth = 242 * viewBoxScaleWidth;
    var controlLogoViewBoxHeight = 50 * viewboxScaleHeight;
    controlLogoViewBox = "0 0 " + controlLogoViewBoxWidth + " " + controlLogoViewBoxHeight;

    controlLogoID.setAttribute("viewBox", controlLogoViewBox);

    var serverAddr = 'http://192.168.68.14'
    var imageServer = serverAddr + ':4879/asset_image/'
    var inventoryAddr = serverAddr + ':9010/inventory'
    var retrieveAddr = inventoryAddr + '/retrieve/*';

    // Get Asset Data From Database
    function getAssetData() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                var jsonValue = JSON.parse(this.responseText);
                createAssetPage(jsonValue);
            }
            // else {
            // 	alert('Status Error : ' + this.status);
            // }

        };

        var rName = serverAddr + ':9010/inventory/retrieve/' + window.location.search.substr(1);
        xhttp.open("GET", rName, false);
        xhttp.send();
    }

    function createAssetPage(assetData) {

        var assetNumberID = document.getElementById('asset-number');
        var assetDateID = document.getElementById('asset-date');
        var assetImageID = document.getElementById('asset-image');
        var assetNameID = document.getElementById('asset-name');
        var assetLocationID = document.getElementById('asset-location');
        var assetManagerID = document.getElementById('asset-manager');

        assetNumberID.innerText = assetData[0].assetNumber;
        assetDateID.innerText = assetData[0].date;
        assetNameID.innerText = assetData[0].deviceName;
        assetLocationID.innerText = assetData[0].location;
        assetManagerID.innerText = assetData[0].manager;

        if (assetData[0].fileName) {
        	assetImageID.src = imageServer + assetData[0].id + '/' + assetData[0].fileName;
        }
        else {
        	assetImageID.src = 'images/noImage.svg';
        }

        // document.getElementById('asset-number').innerText = window.screen.width;

    }

    window.onload = function () {
        getAssetData();
    }

</script>

</html>