<!DOCTYPE html>
<html>

<style>
    html {
        background: #f2f2f2;
    }


    .box {
        animation-name: movingBox;
        animation-duration: 2000ms;
        animation-iteration-count: infinite;
        animation-direction: alternate;

        width: 100px;
        height: 100px;
        background: #FFF;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
    }

    #body-box {
        position: relative;
        width: 500px;
        height: 500px;
        background-color: dodgerblue;
    }

    #svg1-box {
        position: absolute;
        left: 0px;
        display: inline-block;
        width: 100px;
        height: 100px;
        background-color: red;
    }

    #svg1 {
        /* animation-name: movingBoxScaleDown; */
        /* animation-duration: 0.5s;
        animation-timing-function: ease-out; */
        /* animation-iteration-count: infinite; */
        /* animation-direction: alternate; */
    }

    #svg2-box {
        position: absolute;
        left: 200px;
        display: inline-block;
        width: 100px;
        height: 100px;
        background-color: fuchsia;
    }

    #svg2 {
        /* animation-name: movingBoxScaleUp; */
        /* animation-duration: 0.5s;
        animation-timing-function: ease-out; */
        /* transform: scale(0.5, 0.5) translate(-300px, 0); */
        /* animation-iteration-count: infinite; */
        /* animation-direction: alternate; */
    }

    @keyframes movingBoxScaleDown {
        from {
            transform: translate(0, 0);
            opacity: 1.0;
        }

        to {
            transform: scale(0.5, 0.5) translate(300px, 0px);
            opacity: 0.0;
        }

    }

    @keyframes movingBoxScaleUp {
        from {
            transform: translate(-300, 0);
            opacity: 0.0;
        }

        to {
            transform: scale(1.0, 1.0) translate(0px, 0px);
            opacity: 1.0;
        }
    }
</style>

<body>
    <!-- <div class="box"></div> -->

    <div id="body-box">
        <div id="svg1-box">
            <svg id="svg1">
                <rect width="100" height="100" style="fill:rgb(63, 182, 142);stroke-width:3;stroke:none" />
            </svg>
        </div>
        <div id="svg2-box">
            <svg id="svg2">
                <rect width="100" height="100" style="fill:rgb(121, 38, 38);stroke-width:3;stroke:none" />
            </svg>
        </div>
    </div>

    <button onclick="myMove()">Click</button>
</body>

<script>
    function myMove() {
        var divBox1 = document.getElementById("svg1-box");

        var initPos1 = -100;
        var finalPos1 = 200;
        var distance1 = Math.abs(finalPos1 - initPos1);
        var finalScale1 = 1.0;
        var scaleFactor1 = 0.5;
        var opacity1 = 0.0;
        // console.log(divBox1InitPos, divBox2InitPos);

        var dt1 = 0.0;
        var x1 = 0.0;
        var leftPos1 = 0;

        // var animationDuration = 1; //s
        // var interval = 0.005; //s
        // var frame = animationDuration / interval;
        // var count = 0;
        var id1 = setInterval(leftToCenter, 5);

        function leftToCenter() {
            if (leftPos1 == finalPos1) {
                clearInterval(id1);
            }
            else {
                // initPos += 5;
                // scale -= 0.002;

                dt1 += 0.005;
                x1 = 1 - Math.pow(2, -10 * dt1);
                // y = Math.pow(x, 2) + 1;
                leftPos1 = initPos1 + x1 * distance1;
                scale1 = 0.0 + x1 * scaleFactor1;
                opacity1 += 0.02;

                if (leftPos1 > (finalPos1 - 1)) {
                    leftPos1 = finalPos1;
                    scale1 = finalScale1;
                }

                // console.log(leftPos1);
                divBox1.style.left = leftPos1 + 'px';
                divBox1.style.transform = 'scale(' + scale1 + ', ' + scale1 + ')';
                divBox1.style.opacity = opacity1;
                // divBox2.style.left = divBox2InitPos + initPos + 'px';
                // divBox2.style.transform = 'scale(' + initScale + ', ' + initScale + ')';

                console.log(opacity1);
                // count += 1;
            }
        }


        var divBox2 = document.getElementById("svg2-box");
        var initPos2 = 200;
        var finalPos2 = 500;
        var distance2 = Math.abs(finalPos2 - initPos2);
        var finalScale2 = 0.5;
        var scaleFactor2 = 1 - finalScale2;
        var opacity2 = 1.0;
        // console.log(divBox1InitPos, divBox2InitPos);

        var dt2 = 0.0;
        var x2 = 0.0;
        var leftPos2 = 0;

        // var animationDuration = 1; //s
        // var interval = 0.005; //s
        // var frame = animationDuration / interval;
        // var count = 0;
        var id2 = setInterval(centerToRight, 5);

        function centerToRight() {
            if (leftPos2 == finalPos2) {
                clearInterval(id2);
            }
            else {
                // initPos += 5;
                // scale -= 0.002;

                dt2 += 0.005;
                x2 = 1 - Math.pow(2, -10 * dt2);
                // y = Math.pow(x, 2) + 1;
                leftPos2 = initPos2 + x2 * distance2;
                scale2 = 1.0 - x2 * scaleFactor2;
                opacity2 -= 0.02;

                if (leftPos2 > (finalPos2 - 1)) {
                    leftPos2 = finalPos2;
                    scale2 = finalScale2;
                }

                // console.log(leftPos2);
                divBox2.style.left = leftPos2 + 'px';
                divBox2.style.transform = 'scale(' + scale2 + ', ' + scale2 + ')';
                divBox2.style.opacity = opacity2;
                // divBox2.style.left = divBox2InitPos + initPos + 'px';
                // divBox2.style.transform = 'scale(' + initScale + ', ' + initScale + ')';

                // count += 1;
            }
        }



    }
</script>

</html>