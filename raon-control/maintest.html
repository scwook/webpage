<!DOCTYPE html>
<html>

<style>
    html {
        background: #f2f2f2;
    }


    .box {
        animation-name: movingBox;
        animation-duration: 2000ms;
        animation-iteration-count: infinite;
        animation-direction: alternate;

        width: 100px;
        height: 100px;
        background: #FFF;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
    }

    #body-box {
        position: relative;
        width: 500px;
        height: 500px;
        background-color: dodgerblue;
    }

    #svg1-box {
        position: absolute;
        left: 0px;
        display: inline-block;
        width: 100px;
        height: 100px;
        background-color: red;
    }

    #svg1 {
        /* animation-name: movingBoxScaleDown; */
        /* animation-duration: 0.5s;
        animation-timing-function: ease-out; */
        /* animation-iteration-count: infinite; */
        /* animation-direction: alternate; */
    }

    #svg2-box {
        position: absolute;
        left: 200px;
        display: inline-block;
        width: 100px;
        height: 100px;
        background-color: fuchsia;
    }

    #svg2 {
        /* animation-name: movingBoxScaleUp; */
        /* animation-duration: 0.5s;
        animation-timing-function: ease-out; */
        /* transform: scale(0.5, 0.5) translate(-300px, 0); */
        /* animation-iteration-count: infinite; */
        /* animation-direction: alternate; */
    }

    @keyframes movingBoxScaleDown {
        from {
            transform: translate(0, 0);
            opacity: 1.0;
        }

        to {
            transform: scale(0.5, 0.5) translate(300px, 0px);
            opacity: 0.0;
        }

    }

    @keyframes movingBoxScaleUp {
        from {
            transform: translate(-300, 0);
            opacity: 0.0;
        }

        to {
            transform: scale(1.0, 1.0) translate(0px, 0px);
            opacity: 1.0;
        }
    }
</style>

<body>
    <!-- <div class="box"></div> -->

    <div id="body-box">
        <div id="svg1-box">
            <svg id="svg1">
                <rect width="100" height="100" style="fill:rgb(63, 182, 142);stroke-width:3;stroke:none" />
            </svg>
        </div>
        <div id="svg2-box">
            <svg id="svg2">
                <rect width="100" height="100" style="fill:rgb(121, 38, 38);stroke-width:3;stroke:none" />
            </svg>
        </div>
    </div>

    <button onclick="myMove()">Click</button>
</body>

<script>
    function myMove() {
        var divBox1 = document.getElementById("svg1-box");
        var divBox2 = document.getElementById("svg2-box");
        var initPos = 200;
        var finalPos = 500;
        var distance = Math.abs(finalPos - initPos);
        var finalScale = 0.5;
        var scaleFactor = 1 - finalScale;
        var opacity = 1.0;
        // console.log(divBox1InitPos, divBox2InitPos);

        var dt = 0.0;
        var x = 0.0;
        var leftPos = 0;

        // var animationDuration = 1; //s
        // var interval = 0.005; //s
        // var frame = animationDuration / interval;
        // var count = 0;
        var id = setInterval(myFunction, 5);

        function myFunction() {
            if (leftPos == finalPos) {
                clearInterval(id);
            }
            else {
                // initPos += 5;
                // scale -= 0.002;

                dt += 0.005;
                x = 1 - Math.pow(2, -10 * dt);
                // y = Math.pow(x, 2) + 1;
                leftPos = initPos + x * distance;
                scale = 1.0 - x * scaleFactor;
                opacity -= 0.02;

                if (leftPos > (finalPos - 1)) {
                    leftPos = finalPos;
                    scale = finalScale;
                }

                console.log(leftPos);
                divBox2.style.left = leftPos + 'px';
                divBox2.style.transform = 'scale(' + scale + ', ' + scale + ')';
                divBox2.style.opacity = opacity;
                // divBox2.style.left = divBox2InitPos + initPos + 'px';
                // divBox2.style.transform = 'scale(' + initScale + ', ' + initScale + ')';

                // count += 1;
            }
        }
    }
</script>

</html>