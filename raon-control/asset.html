<!DOCTYPE html>
<html>
<link rel="stylesheet" type="text/css" href="asset.css">
<link rel="stylesheet" type="text/css" href="script/swiper-bundle.min.css">
<script src="script/swiper-bundle.min.js"></script>

<style>
	.swiper-slide {
		background-position: center;
		background-size: cover;
		width: 600px;
		height: 400px;
		/* background-color: #fff; */
		box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
		/* filter: blur(4px); */
		/* background: #d1ebff; */
		border-radius: 10px;
	}

	.swiper-slide-active {
		filter: blur(0px);
		/* background: #fff; */
	}

	.swiper-container-3d .swiper-slide-shadow-left,
	.swiper-container-3d .swiper-slide-shadow-right {
		background-image: none;
	}

	.swiper-pagination-bullet {
		width: 20px;
		height: 20px;
		text-align: center;
		line-height: 20px;
		font-size: 12px;
		color: #fff;
		opacity: 1;
		background: rgba(0, 0, 0, 0.2);
	}

	.swiper-pagination-bullet-active {
		color: #fff;
		background: #007aff;
	}
</style>

<body>
	<div style="margin:auto; position: relative; width:1920px; height:80px;">
		<div id="time-stamp"></div>
		<svg id="under-line" width="1920" height="42">
			<style>
				.under-line-style {
					fill: none;
					stroke: #f3f3f3;
					stroke-miterlimit: 10;
					stroke-width: 2px;
				}
			</style>
			<polyline class="under-line-style" points="0 40 760 40 791 0" />
			<polyline class="under-line-style" points="1920 40 1160 40 1129 0" />
		</svg>
		<svg id="center-top" width="400" height="80">
			<path
				d="M12.5,0H0L57,76a10,10,0,0,0,8,4H335a10,10,0,0,0,8-4L400,0H387.5L338,66a10,10,0,0,1-8,4H70a10,10,0,0,1-8-4Z"
				style="fill:#f3f3f3" />
		</svg>
		<div id="raon-box"><a href="main.html"><img src="images/raon-white.svg"></img></a></div>
		<div id="accelerator-control">Accelerator Control</div>
		<div id="menu">
			<a href="monitoring.html">Monitoring</a>
			<a href="schedule.html">Schedule</a>
			<a href="archive.html">Archive</a>
			<a href="downloads.html">Download</a>
			<a href="documents.html">Document</a>
		</div>
	</div>

	<div style="height:50px"></div>

	<div id="body" style="margin:auto; position:relative; width:1920px; height:900px;">
		<div class="search-box">
			<input type="number" id="input" placeholder="Asset Number">
			<svg onclick="searchData()" style="position: absolute; left:1325px; top: 13px">
				<defs>
					<style>
						.cls-1 {
							fill: none;
							stroke: #6d6d6d;
							stroke-miterlimit: 10;
							stroke-width: 3px;
						}
					</style>
				</defs>
				<circle class="cls-1" cx="10.5" cy="10.5" r="9" />
				<line class="cls-1" x1="17.04" y1="17.04" x2="25.04" y2="25.04" />
			</svg>
		</div>

		<div class="swiper-container">
			<div class="swiper-wrapper">
				<!-- <div class="swiper-slide">
					<div class="asset-image" style="background-image: url('images/1.JPG');"></div>
					<div class="asset-container">
						<div class="asset-name">19인치 Rack (SHR-27SS)</div>
						<div class="asset-location">신동3 중앙제어센터 1층 가속기제어팀</div>
						<div class="asset-date">1983-06-19</div>
						<div class="asset-manager">손창욱</div>
						<div class="asset-number">198306194</div>
					</div>
				</div> -->

			</div>
		</div>
	</div>
</body>
<script>
	var swiperWrapperClass = document.getElementsByClassName('swiper-wrapper');
	var count = 0;
	var index = {};

	for (let i = 0; i < 10; i++) {

		var sampleAsset = count * 11;

		var slideItemElem = document.createElement('DIV');
		slideItemElem.classList.add('swiper-slide');

		var assetImageElem = document.createElement('DIV');
		assetImageElem.classList.add('asset-image');
		// assetImageElem.style.backgroundImage = 'url("images/1.JPG")';

		var assetContainerElem = document.createElement('DIV');
		assetContainerElem.classList.add('asset-container');

		var assetNumberElem = document.createElement('DIV');
		var assetDateElem = document.createElement('DIV');
		var assetManagerElem = document.createElement('DIV');
		var assetNameElem = document.createElement('DIV');
		var assetLocationElem = document.createElement('DIV');

		assetNumberElem.classList.add('asset-number');
		assetDateElem.classList.add('asset-date');
		assetManagerElem.classList.add('asset-manager');
		assetNameElem.classList.add('asset-name');
		assetLocationElem.classList.add('asset-location');

		assetNumberElem.innerText = sampleAsset;
		assetDateElem.innerText = '2013-06-19';
		assetManagerElem.innerText = 'CW';
		assetNameElem.innerText = "19인치 Rack (SHR-27SS)";
		assetLocationElem.innerText = "중앙제어센터 2층 제어실험실";

		assetContainerElem.appendChild(assetNumberElem);
		assetContainerElem.appendChild(assetDateElem);
		assetContainerElem.appendChild(assetManagerElem);
		assetContainerElem.appendChild(assetNameElem);
		assetContainerElem.appendChild(assetLocationElem);

		slideItemElem.appendChild(assetImageElem);
		slideItemElem.appendChild(assetContainerElem);

		swiperWrapperClass[0].appendChild(slideItemElem);

		index[sampleAsset] = count;
		count += 1;

	}

	console.log(index);
	var swiper = new Swiper('.swiper-container', {
		// pagination: {
		// 	el: '.swiper-pagination',
		// 	clickable: true,
		// 	renderBullet: function (index, className) {
		// 		// console.log(className, index);
		// 		return '<span class="' + className + '">' + (index + 1) + '</span>';
		// 	},
		// },

		effect: 'coverflow',
		grabCursor: true,
		centeredSlides: true,
		slidesPerView: 'auto',
		coverflowEffect: {
			rotate: 0,
			stretch: -150,
			depth: 200,
			modifier: 2,
			slideShadows: true,
		},
		// loop: true
	});

	function searchData() {
		var searchText = document.getElementById("input").value;
		if (searchText.length) {
			var assetNumber = document.getElementById('input').value;
			var assetIndex = index[assetNumber];
			if(assetIndex) {
				swiper.slideTo(assetIndex, 500, false);
			}
			else {
				alert("No Result");
			}

		}
		else {
			alert("No PVs have been specified.");
		}
	}

	var input = document.getElementById("input");
	input.addEventListener("keyup", function (event) {
		if (event.keyCode === 13) {
			event.preventDefault();
			searchData();
			// document.getElementById("button").click();
		}
	});
</script>

</html>