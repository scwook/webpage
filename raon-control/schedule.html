<!DOCTYPE html>
<html>
<link rel="stylesheet" type="text/css" href="schedule.css">
<script src="script/jquery.min.js"></script>


<body>
    <div style="margin:auto; position: relative; width:1920px; height:80px;">
        <div id="time-stamp"></div>
        <div class="under-line-box"><img src="images/under-line.svg"></img></div>
        <div class="center-top-box"><img src="images/center-top.svg"></img></div>
        <div class="raon-box"><img src="images/raon-white.svg"></img></div>
        <div class="accelerator-control">Accelerator Control</div>
    </div>

    <div style="height:6px"></div>

    <div class="body" style="width:1920px; height:780px; display:flex; margin:auto;">

        <div class="body-left">
            <div class="header-box">Schedule</div>

            <table id="calendar-header">
                <tr>
                    <!-- label은 마우스로 클릭을 편하게 해줌 -->
                    <td class="year"><label onclick="prevCalendar()">&#10094;</label></td>
                    <td class="year" id="calendarYear" colspan="5" style="font-size:32px;">May 2020</td>
                    <td class="year"><label onclick="nextCalendar()">&#10095;</label></td>
                </tr>
                <tr>
                    <td class="week">SUN</td>
                    <td class="week">MON</td>
                    <td class="week">TUE</td>
                    <td class="week">WED</td>
                    <td class="week">THU</td>
                    <td class="week">FRI</td>
                    <td class="week">SAT</td>
                </tr>
            </table>

            <table id="calendar"></table>

 <!--           <div class="header-box">Today</div>
            <div class="today-box">
                The third effect depends not only on the top position of the window’s scrollbar, but also on the width
                property of the window. More specifically, we are making the following assumptions
            </div>
-->
        </div>

        <div class="body-center">
            <div style="height:80px"></div>
            <div class="schedule-list-box" id="schedule1">
                <div style="display:inline-block; font-size:32px; font-weight: bold;">4</div>
                <div style="display:inline-block; font-size:20px; font-weight: bold;">-6</div>
                <div style="display:inline-block; font-size:18px; font-weight: bold; margin-left: 15px">Beam Operation
                    Event 1</div>
                <div class="day-schedule">Day 11 : Beam Standby</div>
                <div class="day-schedule">Day 12 : Beam Injection to KOBRA </div>
                <div class="day-schedule">Day 13 : Beam Standby</div>
                <div class="day-schedule">Day 14 : Beam Injection to LAMS </div>
            </div>

            <div style="height:40px"></div>

            <div class="schedule-list-box" id="schedule2">
                <div style="display:inline-block; font-size:32px; font-weight: bold;">12</div>
                <div style="display:inline-block; font-size:20px; font-weight: bold;">-15</div>
                <div style="display:inline-block; font-size:18px; font-weight: bold; margin-left: 15px">Beam Operation
                    Event 1</div>
                <div class="day-schedule">Day 11 : Beam Standby</div>
                <div class="day-schedule">Day 12 : Beam Injection to KOBRA </div>
                <div class="day-schedule">Day 13 : Beam Standby</div>
                <div class="day-schedule">Day 14 : Beam Injection to LAMS </div>
            </div>

            <div style="height:40px"></div>

            <div class="schedule-list-box" id="schedule3">
                <div style="display:inline-block; font-size:32px; font-weight: bold;">25</div>
                <div style="display:inline-block; font-size:20px; font-weight: bold;">-29</div>
                <div style="display:inline-block; font-size:18px; font-weight: bold; margin-left: 15px">Beam Operation
                    Event 1</div>
                <div class="day-schedule">Day 11 : Beam Standby</div>
                <div class="day-schedule">Day 12 : Beam Injection to KOBRA </div>
                <div class="day-schedule">Day 13 : Beam Standby</div>
                <div class="day-schedule">Day 14 : Beam Injection to LAMS </div>
            </div>

        </div>

        <div class="body-right">
            <div class="header-box">Shift</div>
            <div class="header-bar"></div>

            <table id="shift-table">

                <!-- row 1 -->
                <tr>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                </tr>
                <tr>
                    <td class="shift-user"></td>
                    <td class="shift-user"></td>
                </tr>

                <tr class="row-spacing"></tr>

                <!-- row 2 -->
                <tr>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                </tr>
                <tr>
                    <td class="shift-user"></td>
                    <td class="shift-user"></td>
                </tr>

                <tr class="row-spacing"></tr>

                <!-- row 3 -->
                <tr>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                </tr>
                <tr>
                    <td class="shift-user"></td>
                    <td class="shift-user"></td>
                </tr>

                <tr class="row-spacing"></tr>

                <!-- row 4 -->
                <tr>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                </tr>
                <tr>
                    <td class="shift-user"></td>
                    <td class="shift-user"></td>
                </tr>

                <tr class="row-spacing"></tr>

                <!-- row 5 -->
                <tr>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                </tr>
                <tr>
                    <td class="shift-user"></td>
                    <td class="shift-user"></td>
                </tr>

                <tr class="row-spacing"></tr>

                <!-- row 6 -->
                <tr>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                </tr>
                <tr>
                    <td class="shift-user"></td>
                    <td class="shift-user"></td>
                </tr>

                <tr class="row-spacing"></tr>

                <!-- row 7 -->
                <tr>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                </tr>
                <tr>
                    <td class="shift-user"></td>
                    <td class="shift-user"></td>
                </tr>

                <tr class="row-spacing"></tr>

                <!-- row 8 -->
                <tr>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                </tr>
                <tr>
                    <td class="shift-user"></td>
                    <td class="shift-user"></td>
                </tr>

                <tr class="row-spacing"></tr>

                <!-- row 9 -->
                <tr>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                </tr>
                <tr>
                    <td class="shift-user"></td>
                    <td class="shift-user"></td>
                </tr>

                <tr class="row-spacing"></tr>

                <!-- row 10 -->
                <tr>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                    <td class="shift-avatar" rowspan="2"><img class="avatar-img"></td>
                    <td class="shift-team"><span class="team-name"></span>
                        <div class="desk-img"></div>
                    </td>
                </tr>
                <tr>
                    <td class="shift-user"></td>
                    <td class="shift-user"></td>
                </tr>

                <tr class="row-spacing"></tr>
            </table>
        </div>
    </div>

    <script>
        var today = new Date();
        var date = new Date();
        var monthStartCell = 0;
        var svgDeskCode1 = '<svg id="desk1" width="37.6749" height="6.1317" viewBox="0 0 37.6749 6.1317"><style>#desk1-1{fill:#e6e6e6;}#desk1-2{fill:#e6e6e6;}#desk1-3{fill:#e6e6e6;}</style><path id="desk1-1" d="M7.4417,5.839a11.6573,11.6573,0,0,1,5.0929,1.2269h1.1863V.9341H1.1626V7.0659H2.3488A11.6573,11.6573,0,0,1,7.4417,5.839" transform="translate(-1.1626 -0.9341)"/><path id="desk1-2" d="M20,5.839a11.6573,11.6573,0,0,1,5.0929,1.2269h1.1862V.9341H13.7209V7.0659h1.1862A11.6573,11.6573,0,0,1,20,5.839" transform="translate(-1.1626 -0.9341)"/><path id="desk1-3" d="M32.5583,5.839a11.6573,11.6573,0,0,1,5.0929,1.2269h1.1862V.9341H26.2791V7.0659h1.1863A11.6573,11.6573,0,0,1,32.5583,5.839" transform="translate(-1.1626 -0.9341)"/></svg>';
        var svgDeskCode2 = '<svg id="desk2" width="19.3464" height="20.3421"><style>#desk2-1{fill:#e6e6e6;}#desk2-2{fill:#e6e6e6;}#desk2-3{fill:#e6e6e6;}#desk2-4{fill:#e6e6e6;}#desk2-5{fill:#e6e6e6;}#desk2-6{fill:#e6e6e6;}</style><path id="desk2-1" d="M9.1711,16.6943,7.7165,21.171,2.3693,17.286l3.8116-2.7693A5.9935,5.9935,0,0,0,9.1711,16.6943Z" transform="translate(-0.3268 -0.829)"/><path id="desk2-2" d="M5.0323,11a5.9544,5.9544,0,0,0,1.1486,3.5167L2.3693,17.286.3268,11Z" transform="translate(-0.3268 -0.829)"/><path id="desk2-3" d="M6.181,7.4833,2.3693,4.714,7.7165.829,9.1711,5.3057A5.9938,5.9938,0,0,0,6.181,7.4833Z" transform="translate(-0.3268 -0.829)"/><path id="desk2-4" d="M11.0212,5.0111a5.9784,5.9784,0,0,0-1.85.2946L7.7165.829h6.61L12.8714,5.3058A5.9757,5.9757,0,0,0,11.0212,5.0111Z" transform="translate(-0.3268 -0.829)"/><path id="desk2-5" d="M5.0323,11H.3268L2.3693,4.714,6.181,7.4833A5.9538,5.9538,0,0,0,5.0323,11Z" transform="translate(-0.3268 -0.829)"/><path id="desk2-6" d="M12.8714,5.3058,14.326.829l5.3472,3.885L15.8615,7.4833A5.9937,5.9937,0,0,0,12.8714,5.3058Z" transform="translate(-0.3268 -0.829)"/></svg>';
        var svgDeskCode3 = '<svg id="desk3" width="19.3464" height="20.3421"><style>.#desk3-1{fill:#e6e6e6;}#desk3-2{fill:#e6e6e6;}#desk3-3{fill:#e6e6e6;}#desk3-4{fill:#e6e6e6;}#desk3-5{fill:#e6e6e6;}#desk3-6{fill:#e6e6e6;}</style><path id="desk3-1" d="M10.5021,15.8654l1.4546,4.4767l5.3472-3.885l-3.8117-2.7693C12.7567,14.6984,11.7163,15.4711,10.5021,15.8654z"/><path id="desk3-2" d="M14.6409,10.1711c0,1.3158-0.4293,2.5285-1.1486,3.5167l3.8117,2.7693l2.0425-6.286H14.6409z"/><path id="desk3-3" d="M13.4922,6.6544l3.8117-2.7694L11.9567,0l-1.4546,4.4767C11.7163,4.8711,12.7566,5.6438,13.4922,6.6544z"/><path id="desk3-4" d="M8.652,4.1822c0.6462,0,1.2671,0.1052,1.8502,0.2946L11.9567,0H5.3472l1.4546,4.4768C7.3848,4.2875,8.0058,4.1822,8.652,4.1822z"/><path id="desk3-5" d="M14.6409,10.1711h4.7056L17.3039,3.885l-3.8117,2.7694C14.2115,7.6426,14.6409,8.8553,14.6409,10.1711z"/><path id="desk3-6" d="M6.8018,4.4768L5.3472,0L0,3.885l3.8117,2.7694C4.5473,5.6438,5.5876,4.8711,6.8018,4.4768z"/></svg>';
        var svgDeskCode4 = '<svg id="desk4" width="25" height="11.8882"><style>#desk4-1{fill:#e6e6e6;}#desk4-2{fill:#e6e6e6;}#desk4-3{fill:#e6e6e6;}#desk4-4{fill:#e6e6e6;}#desk4-5{fill:#e6e6e6;}</style><path id="desk4-1" d="M6.8425,7.8337,2.3873,4.5968,0,11.9441H5.5A6.9591,6.9591,0,0,1,6.8425,7.8337Z" transform="translate(0 -0.0559)"/><path id="desk4-2" d="M18.1574,7.8337l4.4553-3.2369L16.3627.0559l-1.7,5.2325A7.0061,7.0061,0,0,1,18.1574,7.8337Z" transform="translate(0 -0.0559)"/><path id="desk4-3" d="M12.5,4.9441a6.9871,6.9871,0,0,1,2.1625.3443l1.7-5.2325H8.6373l1.7,5.2326A6.9873,6.9873,0,0,1,12.5,4.9441Z" transform="translate(0 -0.0559)"/><path id="desk4-4" d="M19.5,11.9441H25L22.6127,4.5968,18.1574,7.8337A6.9592,6.9592,0,0,1,19.5,11.9441Z" transform="translate(0 -0.0559)"/><path id="desk4-5" d="M10.3374,5.2885,8.6373.0559l-6.25,4.5409L6.8425,7.8337A7.0064,7.0064,0,0,1,10.3374,5.2885Z" transform="translate(0 -0.0559)"/></svg>';
        var svgDesk = [svgDeskCode1, svgDeskCode2, svgDeskCode3, svgDeskCode4];
        var shiftList1 = [
            { name: "Son, Changwook", team: "Accelerator Control", desk: "1", seat: "1", leader: 1 },
            { name: "Lee, SangIl", team: "Accelerator Control", desk: "1", seat: "2", leader: 0 },
            { name: "Park, MiJeong", team: "Accelerator Control", desk: "1", seat: "3", leader: 0 },
            { name: "Choi, YoungJun", team: "Accelerator Control", desk: "2", seat: "1", leader: 0 },
            { name: "Kim, YongHak", team: "Accelerator Control", desk: "2", seat: "2", leader: 0 },
            { name: "Kim TaeKyung", team: "Cryogenic", desk: "2", seat: "3", leader: 0 },
            { name: "Park, InMyung", team: "Cryogenic", desk: "2", seat: "4", leader: 0 },
            { name: "Shin, JaeHee", team: "Cryogenic", desk: "2", seat: "5", leader: 0 },
            { name: "Yoon, Sungwoon", team: "Cryogenic", desk: "2", seat: "6", leader: 0 },
            { name: "Jo, HyunChul", team: "Cryogenic", desk: "3", seat: "1", leader: 0 },
            { name: "Park, Heecheol", team: "Cryogenic", desk: "3", seat: "2", leader: 0 },
            { name: "Yoo, JungHyun", team: "Cryogenic", desk: "3", seat: "3", leader: 0 },
            { name: "Park, Heecheol", team: "Cryogenic", desk: "3", seat: "4", leader: 0 },
            { name: "Yoo, JungHyun", team: "Cryogenic", desk: "3", seat: "5", leader: 0 },
            { name: "Park, Heecheol", team: "Cryogenic", desk: "3", seat: "6", leader: 0 },
            { name: "Yoo, JungHyun", team: "Cryogenic", desk: "4", seat: "1", leader: 0 },
            { name: "Park, Heecheol", team: "Cryogenic", desk: "4", seat: "2", leader: 0 },
            { name: "Yoo, JungHyun", team: "Cryogenic", desk: "4", seat: "3", leader: 0 },
            { name: "Park, Heecheol", team: "Cryogenic", desk: "4", seat: "4", leader: 0 },
            { name: "Yoo, JungHyun", team: "Cryogenic", desk: "4", seat: "5", leader: 0 }
        ]

        var shiftList2 = [
            { name: "Park, MiJeong", team: "Accelerator Control", desk: "1", seat: "1", leader: 0 },
            { name: "Choi, YoungJun", team: "Accelerator Control", desk: "1", seat: "1", leader: 0 },
            { name: "Kim, YongHak", team: "Accelerator Control", desk: "1", seat: "1", leader: 0 },
            { name: "Kim TaeKyung", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Park, InMyung", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Shin, JaeHee", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Yoon, Sungwoon", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Son, Changwook", team: "Accelerator Control", desk: "1", seat: "1", leader: 0 },
            { name: "Jo, HyunChul", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Park, Heecheol", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Yoo, JungHyun", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Park, Heecheol", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Yoo, JungHyun", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Park, Heecheol", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Yoo, JungHyun", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Park, Heecheol", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Lee, SangIl", team: "Accelerator Control", desk: "1", seat: "1", leader: 0 },
            { name: "Yoo, JungHyun", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Park, Heecheol", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Yoo, JungHyun", team: "Cryogenic", desk: "1", seat: "1", leader: 0 }
        ]

        var shiftList3 = [
            { name: "Kim, YongHak", team: "Accelerator Control", desk: "1", seat: "1", leader: 0 },
            { name: "Son, Changwook", team: "Accelerator Control", desk: "1", seat: "1", leader: 0 },
            { name: "Lee, SangIl", team: "Accelerator Control", desk: "1", seat: "1", leader: 0 },
            { name: "Choi, YoungJun", team: "Accelerator Control", desk: "1", seat: "1", leader: 0 },
            { name: "Kim TaeKyung", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Park, InMyung", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Shin, JaeHee", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Yoon, Sungwoon", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Jo, HyunChul", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Park, Heecheol", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Yoo, JungHyun", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Park, Heecheol", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Yoo, JungHyun", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Park, Heecheol", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Yoo, JungHyun", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Park, Heecheol", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Yoo, JungHyun", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Park, Heecheol", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Yoo, JungHyun", team: "Cryogenic", desk: "1", seat: "1", leader: 0 },
            { name: "Park, MiJeong", team: "Accelerator Control", desk: "1", seat: "1", leader: 0 }
        ]

        var shiftInfo = [shiftList1, shiftList2, shiftList3];

        function prevCalendar() {
            today = new Date(today.getFullYear(), today.getMonth() - 1, today.getDate());
            createCalendar();
        }

        function nextCalendar() {
            today = new Date(today.getFullYear(), today.getMonth() + 1, today.getDate());
            createCalendar();
        }

        function createCalendar() {
            var firstDate = new Date(today.getFullYear(), today.getMonth(), 1);
            var lastDate = new Date(today.getFullYear(), today.getMonth() + 1, 0);
            var prevMonthLastDate = new Date(today.getFullYear(), today.getMonth(), 0);

            var startDate = 1;
            if (firstDate.getDay() != 0) {
                startDate = prevMonthLastDate.getDate() - firstDate.getDay() + 1;
            }

            var tb = document.getElementById("calendar");

            while (tb.rows.length) {
                tb.deleteRow(tb.rows.length - 1);
            }

            // var x = document.createElement("TABLE");
            // x.setAttribute("id", "calendar");
            // document.body.appendChild(x);

            // tb = document.getElementById("calendar");

            //document.getElementById("test").innerHTML = tb.rows();
            var row = null;
            var cell = null;
            var rowPos = 0;
            var tableDay = startDate;
            var cellDate = 0;

            var month = new Array();
            month[0] = "January";
            month[1] = "February";
            month[2] = "March";
            month[3] = "April";
            month[4] = "May";
            month[5] = "June";
            month[6] = "July";
            month[7] = "August";
            month[8] = "September";
            month[9] = "October";
            month[10] = "November";
            month[11] = "December";
            var m = month[today.getMonth()];

            var cy = document.getElementById("calendarYear");
            cy.innerHTML = m + " " + today.getFullYear();

            // Week
            for (let w = 0; w < 6; w++) {
                //Day, Schedule1, Schedule2
                for (let i = 0; i < 3; i++) {
                    row = tb.insertRow();
                    row.setAttribute("class", "rowClass", 0);
                    //Cell
                    for (let j = 0; j < 7; j++) {
                        cell = row.insertCell();
                        cell.setAttribute("class", "cellClass", 0);
                        cell.style.width = "105px";

                        if (rowPos == 0) {
                            row.style.height = "50px";

                            var dayBox = document.createElement("DIV");
                            dayBox.classList.add("day-box");
                            dayBox.innerHTML = tableDay;

                            if (i == 0) {
                                if (j == 0) {
                                    dayBox.style.color = "tomato"; //Sunday color
                                }
                                else if (j == 6) {
                                    dayBox.style.color = "#1976D2"; //Saturday color
                                }
                            }

                            cell.appendChild(dayBox);

                            if ((date.getFullYear() == today.getFullYear()) && (date.getMonth() == today.getMonth()) && (tableDay == today.getDate())) {
                                dayBox.style.backgroundColor = "dodgerblue";
                            }

                            tableDay += 1;

                            if ((w == 0) && (tableDay > prevMonthLastDate.getDate())) {
                                tableDay = 1;
                                monthStartCell = j + 1;
                            }

                            if ((w > 3) && (tableDay > lastDate.getDate())) {
                                tableDay = 1;
                            }
                        }
                        else if (rowPos == 1) {
                            row.style.height = "30px";

                            // if (w == 2) {
                            // cell.colSpan = "3";

                            // let x = document.createElement("BUTTON");
                            // let t = document.createTextNode("Click me");
                            // x.addEventListener("click", myFunction);
                            // x.appendChild(t);
                            // cell.appendChild(x);
                            // j += 2;
                            // }
                        }
                        else if (rowPos == 2) {
                            row.style.height = "30px";

                            // if (w == 3) {
                            //     cell.colSpan = "2";
                            //     j += 1;
                            // }

                        }

                    }

                    rowPos += 1;
                }

                rowPos = 0;
            }
        }

        function timer() {
            var d = new Date();
            document.getElementById('time-stamp').innerHTML = d.toLocaleTimeString('en-GB');
        }

        function scheduleUpdate(x) {
            var shiftAvatar = document.getElementsByClassName("avatar-img");
            var shiftUserTable = document.getElementsByClassName("shift-user");
            var shiftTeamTable = document.getElementsByClassName("team-name");
            var shiftDesk = document.getElementsByClassName("desk-img");

            for (let i = 0; i < shiftInfo[x].length; i++) {
                shiftAvatar[i].src = "images/avatar.svg";
                shiftUserTable[i].innerHTML = shiftInfo[x][i].name;
                shiftTeamTable[i].innerHTML = shiftInfo[x][i].team;

                let deskNum = shiftInfo[x][i].desk;
                let seatNum = shiftInfo[x][i].seat;
                let isShiftLeader = shiftInfo[x][i].leader;

                shiftDesk[i].innerHTML = findDeskSeat(i + 1, deskNum, seatNum, isShiftLeader);;
                // shiftDesk[i].innerHTML = '<svg width="10" height="10"><circle cx="5" cy="5" r="5"stroke="green" stroke-width="4" fill="yellow" />';
                // shiftDesk[i].appendChild(svgCode);
            }


            // $("#shift-table tr").hide();
            // $("#shift-table tr").each(function (index) {
            //     $(this).delay(index * 50).show(100);
            // });

            // document.getElementById("shift-table").style.animationName = "animatebottom";
        }

        function findDeskSeat(shiftNum, deskNum, seatNum, isLeader) {
            var operatorSeatColor = "#3498DB";
            if(isLeader) {
                operatorSeatColor = "#DB3434";
            }
            var deselectedSeat = "desk" + deskNum + "-" + seatNum + "{fill:#e6e6e6;}";
            var operatorSeatColor = "desk" + deskNum + "-" + seatNum + "{fill:" + operatorSeatColor + ";}";
            var svgDeskSeat = svgDesk[deskNum - 1].replace(deselectedSeat, operatorSeatColor);

            //to avoid overlap of path id in svg code(id must have unique name)
            var shiftID = null;
            var deskID = null;
            // console.log(shiftNum, deskNum, seatNum);
            switch (deskNum) {
                case "1":
                    for (let i = 1; i <= 3; i++) {
                        deskID = "desk" + deskNum + "-" + i;
                        shiftID = "shift" + shiftNum + "-" + i;
                        svgDeskSeat = svgDeskSeat.split(deskID).join(shiftID);
                    }
                    break;

                case "2":
                    for (let i = 1; i <= 6; i++) {
                        deskID = "desk" + deskNum + "-" + i;
                        shiftID = "shift" + shiftNum + "-" + i;
                        svgDeskSeat = svgDeskSeat.split(deskID).join(shiftID);
                    }
                case "3":
                    break;

                case "4":
                    for (let i = 1; i <= 5; i++) {
                        deskID = "desk" + deskNum + "-" + i;
                        shiftID = "shift" + shiftNum + "-" + i;
                        svgDeskSeat = svgDeskSeat.split(deskID).join(shiftID);
                    }
                    break;
            }

            return svgDeskSeat;
        }

        function addSchedule() {
            // let schedule = [
            //     {startDate:"2020-05-04", endDate: "2020-05-06", commemt:"Beam Operation Event 1"},
            //     {startDate:"2020-05-12", endDate: "2020-05-15", commemt:"Beam Operation Event 2"},
            //     {startDate:"2020-05-25", endDate: "2020-05-29", commemt:"Beam Operation Event 3"}
            // ]

            // let start = new Date(schedule[0].startDate);
            // let end = new Date(schedule[0].endDate);


            var eventRow = document.getElementsByClassName("rowClass");
            var eventCell = document.getElementsByClassName("cellClass");

            // Event 1
            eventCell[29].colSpan = "3";
            let shiftButton1 = document.createElement("BUTTON");
            let comment = document.createTextNode("Beam Operation Event 1");
            shiftButton1.style.backgroundColor = "#283593";
            shiftButton1.addEventListener("click", function () { refrashShiftTable(0) });
            shiftButton1.appendChild(comment);
            eventCell[29].appendChild(shiftButton1);
            eventRow[4].deleteCell(5);
            eventRow[4].deleteCell(5);

            eventCell[49].colSpan = "4";
            let shiftButton2 = document.createElement("BUTTON");
            let comment2 = document.createTextNode("Beam Operation Event 2");
            shiftButton2.style.backgroundColor = "#2E7D32";
            shiftButton2.addEventListener("click", function () { refrashShiftTable(1) });
            shiftButton2.appendChild(comment2);
            eventCell[49].appendChild(shiftButton2);
            eventRow[7].deleteCell(4);
            eventRow[7].deleteCell(4);
            eventRow[7].deleteCell(4);

            eventCell[87].colSpan = "5";
            let shiftButton3 = document.createElement("BUTTON");
            let comment3 = document.createTextNode("Beam Operation Event 2");
            shiftButton3.style.backgroundColor = "#EF6C00";
            shiftButton3.addEventListener("click", function () { refrashShiftTable(2) });
            shiftButton3.appendChild(comment3);
            eventCell[87].appendChild(shiftButton3);
            eventRow[13].deleteCell(3);
            eventRow[13].deleteCell(3);
            eventRow[13].deleteCell(3);
            eventRow[13].deleteCell(3);
        }

        function refrashShiftTable(x) {
            var shiftTableElement = document.getElementById("shift-table");
            var tablePosition = 0;
            var tableOpacity = 1.0;
            var id = setInterval(frame, 5);

            function frame() {
                if (tablePosition == 80) {
                    clearInterval(id);
                    showUpShiftTable(x);
                }
                else {
                    tablePosition += 1;
                    tableOpacity -= 0.02;

                    shiftTableElement.style.top = tablePosition + "px";
                    shiftTableElement.style.opacity = tableOpacity;
                }
            }
        }

        function showUpShiftTable(x) {
            scheduleUpdate(x);

            var shiftTableElement = document.getElementById("shift-table");
            var tablePosition = 80;
            var tableOpacity = 0.0;
            var id = setInterval(frame, 5);

            function frame() {
                if (tablePosition == 0) {
                    clearInterval(id);
                }
                else {
                    tablePosition -= 1;
                    tableOpacity += 0.02;

                    shiftTableElement.style.top = tablePosition + "px";
                    shiftTableElement.style.opacity = tableOpacity;
                }
            }
        }

        window.onload = function () {
            createCalendar();
            addSchedule();

            var myVar = setInterval(timer, 1000);

            var scheduleList = document.getElementsByClassName("schedule-list-box");
            var delayTime = 0;
            for (let i = 0; i < scheduleList.length; i++) {
                scheduleList[i].style.animationDelay = delayTime + "s";

                delayTime += 0.2;
            }

            var shiftTableElement = document.getElementById("shift-table");
            shiftTableElement.style.top = 80;
            shiftTableElement.style.opacity = 0;
            showUpShiftTable(0);
        }
    </script>
</body>

</html>